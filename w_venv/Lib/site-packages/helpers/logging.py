import sys


def redirect_to_file(filename):
    class Logger(object):
        def __init__(self, filename):
            self.terminal = sys.stdout  # original stdout location
            self.log = open(filename, "a")

        def write(self, message):
            self.terminal.write(message)
            self.log.write(message)

        def flush(self):
            self.terminal.flush()
            self.log.flush()

    sys.stdout = Logger(filename)  # redirect stdout
    sys.stderr = sys.stdout  # redirect stderr to the new stdout


